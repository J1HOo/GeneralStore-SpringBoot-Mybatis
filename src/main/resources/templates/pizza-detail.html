<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Title</title>
    <link rel="icon" href="/favicon.ico">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
</head>
<body>
<div class="container">
    <h1>피자 상세보기</h1>
    <div id="pizza-detail">
        <p><strong>이름 : </strong> <span id="pizza-name"></span> </p>
        <p><strong>가격 : </strong> <span id="pizza-price"></span> </p>
        <p><strong>설명 : </strong> <span id="pizza-description"></span> </p>
    </div>
    <a href="/pizzas">목록</a>
</div>
</body>

<script>
    $(document).ready(function(){
        const Params = new URLSearchParams(window.location.search);
        const id = Params.get('id');

        $.ajax({
            // url: "/api/pizzas/" + id,
            url: `/api/pizzas/${id}`,
            method: "GET",
            success: function(pizza) {
                $('#pizza-name').text(pizza.name);
                $('#pizza-price').text(pizza.price);
                $('#pizza-description').text(pizza.description);
            },
            error: function() {
                alert("피자 데이터를 가져올 수 없습니다.");
                window.location.href = "/pizzas";
            }
        });
    });
</script>
</html>
